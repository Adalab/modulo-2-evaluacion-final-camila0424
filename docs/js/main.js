const m=document.querySelector(".js_animeUl "),u=document.querySelector(".js_filterByNameInput"),g=document.querySelector(".js_filterButton"),a=document.querySelector(".js_favouritesUl"),L=document.querySelector(".js_resetButton");let l=[],i=[];function r(e){return`
    <li class="anime-item js_animeItemLi" data-gancho="${e.mal_id}">
        <h2 class="name">${e.title}</h2>          
        <img src="${e.images.jpg.image_url}" alt="">
    </li> `}function f(){let e="";for(const t of l)e+=r(t);m.innerHTML=e;const n=document.querySelectorAll(".js_animeItemLi");for(const t of n)t.addEventListener("click",M)}function d(){let e="";for(const n of i)e+=r(n);a.innerHTML=e}function M(e){const n=e.currentTarget;n.classList.toggle("favourite");const t=parseInt(n.dataset.gancho),s=i.findIndex(o=>o.mal_id===t);if(s===-1){const o=l.find(h=>h.mal_id===t);i.push(o),localStorage.setItem("favouriteMovie",JSON.stringify(i));const v=r(o);a.innerHTML+=v}else i.splice(s,1),d()}function p(e){e.preventDefault();const n=u.value;fetch(`https://api.jikan.moe/v4/anime?q=${n}`).then(t=>t.json()).then(t=>{l=t.data,m.innerHTML="",f()})}L.addEventListener("click",e=>{e.preventDefault(),u.value="",i=[],a.innerHTML="",localStorage.removeItem("favouriteMovie")});g.addEventListener("click",p);fetch("https://api.jikan.moe/v4/anime").then(e=>e.json()).then(e=>{l=e.data,f()});const c=JSON.parse(localStorage.getItem("favouriteMovie"));c!==null&&(i=c,d());
//# sourceMappingURL=main.js.map
