const c=document.querySelector(".js_animeUl "),m=document.querySelector(".js_filterByNameInput"),d=document.querySelector(".js_filterButton"),a=document.querySelector(".js_favouritesUl"),h=document.querySelector(".js_resetButton");let l=[],o=[];function r(e){return`
    <li class="anime-item js_animeItemLi" data-gancho="${e.mal_id}">
        <h2 class="name">${e.title}</h2>          
        <img src="${e.images.jpg.image_url}" alt="">
    </li> `}function u(){let e="";for(const t of l)e+=r(t);c.innerHTML=e;const n=document.querySelectorAll(".js_animeItemLi");for(const t of n)t.addEventListener("click",L)}function g(){let e="";for(const n of o)e+=r(n);a.innerHTML=e}function L(e){const n=e.currentTarget;n.classList.toggle("favourite");const t=parseInt(n.dataset.gancho);if(o.findIndex(i=>i.mal_id===t)===-1){const i=l.find(v=>v.mal_id===t);o.push(i),localStorage.setItem("favouriteMovie",JSON.stringify(o));const f=r(i);a.innerHTML+=f}}function M(e){e.preventDefault();const n=m.value;fetch(`https://api.jikan.moe/v4/anime?q=${n}`).then(t=>t.json()).then(t=>{l=t.data,c.innerHTML="",u()})}h.addEventListener("click",e=>{e.preventDefault(),m.value="",o=[],a.innerHTML="",localStorage.removeItem("favouriteMovie")});d.addEventListener("click",M);fetch("https://api.jikan.moe/v4/anime").then(e=>e.json()).then(e=>{l=e.data,u()});const s=JSON.parse(localStorage.getItem("favouriteMovie"));s!==null&&(o=s,g());
//# sourceMappingURL=main.js.map
